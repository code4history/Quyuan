<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qy-Swiper Final Test</title>
  <script type="module">
    import './dist/quyuan.js';
    
    window.addEventListener('DOMContentLoaded', async () => {
      // Wait for custom elements to be defined
      await customElements.whenDefined('qy-swiper');
      await customElements.whenDefined('qy-swiper-slide');
      
      console.log('=== QY-SWIPER FINAL TEST ===');
      console.log('Custom elements defined');
      
      // Get all swiper elements
      const swipers = document.querySelectorAll('qy-swiper');
      
      swipers.forEach((swiper, swiperIndex) => {
        // Wait a bit for initialization
        setTimeout(() => {
          console.log(`\n=== SWIPER ${swiperIndex + 1} STATUS ===`);
          console.log('Number of slides:', swiper.slides.length);
          
          if (swiper.slides.length > 0) {
            console.log('First slide:', {
              element: swiper.slides[0].tagName,
              imageUrl: swiper.slides[0].getAttribute('image-url')
            });
          }
          
          // Check shadow DOM content
          const shadowRoot = swiper.shadowRoot;
          if (shadowRoot) {
            const slides = shadowRoot.querySelectorAll('.swiper-slide');
            console.log('Rendered slides in shadow DOM:', slides.length);
          }
        }, 500);
      });
    });
  </script>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
    }
    .demo-section {
      max-width: 1200px;
      margin: 0 auto 40px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h2 {
      margin-top: 0;
      color: #333;
    }
    qy-swiper {
      width: 100%;
      height: 400px;
      display: block;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div class="demo-section">
    <h2>Basic Swiper</h2>
    <qy-swiper>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg"
        image-type="image">
      </qy-swiper-slide>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg"
        image-type="image">
      </qy-swiper-slide>
    </qy-swiper>
  </div>

  <div class="demo-section">
    <h2>Swiper with Thumbnails and Captions</h2>
    <qy-swiper has-thumb>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg"
        image-type="image"
        caption="Beautiful beach at sunset">
      </qy-swiper-slide>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg"
        image-type="image"
        caption="Two golden retrievers playing">
      </qy-swiper-slide>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/210019/pexels-photo-210019.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/210019/pexels-photo-210019.jpeg"
        image-type="image"
        caption="Sports car on the road">
      </qy-swiper-slide>
    </qy-swiper>
  </div>

  <div class="demo-section">
    <h2>Autoplay Swiper</h2>
    <qy-swiper autoplay>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/1619317/pexels-photo-1619317.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/1619317/pexels-photo-1619317.jpeg"
        image-type="image">
      </qy-swiper-slide>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg"
        image-type="image">
      </qy-swiper-slide>
      <qy-swiper-slide
        thumbnail-url="https://images.pexels.com/photos/1402787/pexels-photo-1402787.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
        image-url="https://images.pexels.com/photos/1402787/pexels-photo-1402787.jpeg"
        image-type="image">
      </qy-swiper-slide>
    </qy-swiper>
  </div>
</body>
</html>